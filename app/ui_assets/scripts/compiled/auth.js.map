{"version":3,"sources":["../src/auth.js"],"names":["notify","text","type","notify_Block","document","createElement","classList","add","style","display","innerHTML","body","appendChild","setTimeout","remove","e","keyCode","signIn_Block","key_counter","user","SignIn","signUp_Block","signUp_Submit","click","passcode_Trigger","auth_trigger_keyboard","querySelector","signIn_Block_Codes","allSpan","querySelectorAll","avatar_Block","Auth","__read_DB","isAuth_Data","length","textContent","Name","focus","__render_Wallpaper","SignUp","preventDefault","all_Inputs","validateForm","then","res","console","log","avatar","getAttribute","Avatar","JSON","stringify","data","add_User_To_DB","catch","err","isRecord_Exists","auth_Pin","Pin","check_Auth","user_Entered_Code","isAuth_Valided","__update_DB","Id","Logged","isLogged_Out","window","location","UpcomingTasks","addEventListener","avatar_Select","target","nodeName","all_Avatar","a","parentElement","user_Input","db_Input","count","entries","index","clear","capture_UI_Elem","setAttribute","removeAttribute","nextElementSibling","push","parseInt","key","Inputs","Promise","resolve","reject","input_Serialize","value","re","test","input_Name","Pin_1","Pin_2","Pin_3","Pin_4","__add_Item_DB","Email","isUser_Added","reload","ImageChecker","Data","img_Blob","Image","onload","backgroundImage","Blob","Link","Author","onerror","src","img_Data","request_Background","action","callback","chrome","runtime","sendMessage","clear_PassCode_Box"],"mappings":"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","file":"auth.js","sourcesContent":["/**\r\n* @Author: Pawan Gujral <codedoodler>\r\n* @Date:   2018-08-08T05:47:42-04:00\r\n* @Email:  goofyCoder.com\r\n* @Last modified by:   codedoodler\r\n* @Last modified time: 2018-08-10T12:49:36-04:00\r\n*/\r\n\r\n\r\n//e:g notify(\"PIN is incorrect\", \"error\");\r\nfunction notify(text, type) {\r\n  const notify_Block = document.createElement(\"DIV\");\r\n  notify_Block.classList.add(\"notification\");\r\n  notify_Block.style.display = \"block\";\r\n  notify_Block.innerHTML = `<p class=\"${type}\">${text}</p>`;\r\n  document.body.appendChild(notify_Block);\r\n\r\n  setTimeout(() => {\r\n    notify_Block.remove();\r\n  }, 3000);\r\n}\r\n\r\n\r\n\r\n(function() {\r\n  \"use strict\";\r\n  const signIn_Block = document.querySelector(\"#signIn_Block\");\r\n  const signIn_Block_Codes = signIn_Block.querySelector(\".auth_code\");\r\n  const allSpan = signIn_Block_Codes.querySelectorAll(\"span\");\r\n  const avatar_Block = document.querySelector(\".avatar-Block\");\r\n  const signUp_Block = document.querySelector(\"#signUp_Block\");\r\n  const signUp_Submit = document.querySelector(\"#signUp_Submit\");\r\n\r\n\r\n  const user = {\r\n    Auth: async () => {\r\n      let isAuth_Data = await __read_DB(\"Auth\");\r\n\r\n      if (isAuth_Data.length) {\r\n        signIn_Block.style.display = \"block\";\r\n        document.querySelector(\".user_name\").textContent = isAuth_Data[0].Name;\r\n      } else {\r\n        signUp_Block.style.display = \"block\";\r\n        document.querySelector(\"#name_Input\").focus();\r\n      }\r\n      __render_Wallpaper();\r\n    },\r\n    SignUp: async (e) => {\r\n      e.preventDefault();\r\n      let all_Inputs = signUp_Block.querySelectorAll(\"input\");\r\n      validateForm(all_Inputs)\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (document.querySelector(\".selected\")) {\r\n          let avatar = document.querySelector(\".selected img\").getAttribute(\"src\");\r\n          res.Avatar = JSON.stringify(avatar);\r\n          return res;\r\n        } else {\r\n          notify(\"Don't forget to select your avatar\", \"error\");\r\n          return false;\r\n        }\r\n      })\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data) {\r\n          add_User_To_DB(data);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        notify(err, \"error\");\r\n      });\r\n    },\r\n    SignIn: async (e) => {\r\n      let isRecord_Exists = await __read_DB(\"Auth\");\r\n      if (isRecord_Exists.length) {\r\n        let auth_Pin = isRecord_Exists[0].Pin;\r\n\r\n        let isAuth_Valided = await check_Auth(user_Entered_Code, auth_Pin);\r\n\r\n        if (isAuth_Valided) {\r\n          let isLogged_Out = await __update_DB(\"Auth\", {\r\n            Id: 1\r\n          }, {\r\n            Logged: true\r\n          });\r\n          if (isLogged_Out) {\r\n            window.location = \"work.html\";\r\n          } else {\r\n            notify(\"Something went wrong error, Try again.\", \"error\");\r\n          }\r\n          window.location = \"work.html\";\r\n        }\r\n      }\r\n    },\r\n    UpcomingTasks: () => {\r\n\r\n    }\r\n  }\r\n\r\n  document.addEventListener(\"keypress\", auth_trigger_keyboard);\r\n  signUp_Submit.addEventListener(\"click\", user.SignUp);\r\n  avatar_Block.addEventListener(\"click\", avatar_Select);\r\n\r\n  function avatar_Select(e) {\r\n    if (e.target.nodeName == \"IMG\") {\r\n      let all_Avatar = avatar_Block.querySelectorAll(\"LI\");\r\n      for (let a of all_Avatar) {\r\n        a.classList.remove(\"selected\");\r\n      }\r\n      e.target.parentElement.classList.add(\"selected\");\r\n    }\r\n  };\r\n\r\n  const check_Auth = function(user_Input, db_Input) {\r\n    let count = 0;\r\n    for (let [index, a] of user_Input.entries()) {\r\n      if (user_Input[index] == db_Input[index]) {\r\n        count++;\r\n      } else {\r\n        notify(\"Incorrect PIN, Try again.\", \"error\");\r\n        clear();\r\n        return false;\r\n      }\r\n    }\r\n    if (count == 4) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  let key_counter = 1;\r\n  let user_Entered_Code = [];\r\n  // Keyboard trigger\r\n  async function auth_trigger_keyboard(e) {\r\n    if (e.keyCode == 13) {\r\n      if (signIn_Block.style.display == \"block\") {\r\n        if (key_counter <= 4) {\r\n          notify(\"Enter all 4 digits\", \"error\");\r\n        } else {\r\n          user.SignIn(e);\r\n        }\r\n      } else if (signUp_Block.style.display == \"block\") {\r\n        signUp_Submit.click();\r\n      }\r\n    } else if (e.keyCode >= 48 && e.keyCode <= 57) {\r\n      passcode_Trigger(e);\r\n    }\r\n\r\n  }\r\n\r\n  const passcode_Trigger = (e) => {\r\n    if (key_counter <= 4) {\r\n      let capture_UI_Elem = signIn_Block_Codes.querySelector(`[data-count=\"${key_counter}\"]`);\r\n      capture_UI_Elem.setAttribute(\"data-keyCode\", e.keyCode);\r\n      capture_UI_Elem.removeAttribute(\"data-animate\");\r\n      if (capture_UI_Elem.nextElementSibling) {\r\n        capture_UI_Elem.nextElementSibling.setAttribute(\"data-animate\", \"icon\");\r\n      }\r\n      user_Entered_Code.push(parseInt(e.key));\r\n      key_counter++;\r\n    }\r\n  }\r\n  // validate email\r\n  const validateForm = function(Inputs) {\r\n    return new Promise((resolve, reject) => {\r\n      let input_Serialize = {};\r\n      for (let a of Inputs) {\r\n        if (a.value == \"\") {\r\n          reject(a.getAttribute(\"data-error\"));\r\n        } else if (a.getAttribute(\"name\") == \"Email\") {\r\n          let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n          if (!re.test(a.value)) {\r\n            reject(\"Email Should be valid\");\r\n          } else {\r\n            input_Serialize[\"Email\"] = a.value;\r\n          }\r\n        } else {\r\n          let input_Name = a.getAttribute(\"name\");\r\n          input_Serialize[input_Name] = a.value;\r\n\r\n        }\r\n      }\r\n      resolve(input_Serialize);\r\n    });\r\n  }\r\n\r\n  const add_User_To_DB = async (data) => {\r\n    console.log([parseInt(data.Pin_1), parseInt(data.Pin_2), parseInt(data.Pin_3), parseInt(data.Pin_4)]);\r\n    let isUser_Added = await __add_Item_DB(\"Auth\", [{\r\n      Name: data.Name,\r\n      Email: data.Email,\r\n      Avatar: data.Avatar,\r\n      Pin: [parseInt(data.Pin_1), parseInt(data.Pin_2), parseInt(data.Pin_3), parseInt(data.Pin_4)],\r\n      Logged: false\r\n    }]);\r\n\r\n    if (isUser_Added) {\r\n      window.location.reload();\r\n    }\r\n  }\r\n  // Check image blob\r\n  const ImageChecker = function(Data) {\r\n    var img_Blob = new Image();\r\n    img_Blob.onload = function() {\r\n      document.body.style.backgroundImage = `url(\"${Data[0].Blob}\")`;\r\n      document.querySelector(\".unsplash_copyright\").innerHTML = `Photo by\r\n      <a href=\"${Data[0].Link}?utm_source=DOG&utm_medium=referral\" target=\"_blank\">${Data[0].Author}</a>\r\n      on\r\n      <a href=\"https://unsplash.com/?utm_source=DOG&utm_medium=referral\" target=\"_blank\">Unsplash</a>\r\n      `;\r\n    };\r\n    img_Blob.onerror = function() {\r\n      document.body.style.backgroundImage = 'url(\"ext_assets/images/bg.jpg\")';\r\n      document.querySelector(\".unsplash_copyright\").innerHTML = `Image from\r\n      <a href=\"https://unsplash.com/?utm_source=DOG&utm_medium=referral\" target=\"_blank\">Unsplash</a>\r\n      `;\r\n    }\r\n    img_Blob.src = Data[0].Blob;\r\n  }\r\n  // wallpaper render\r\n  const __render_Wallpaper = async function() {\r\n    let img_Data = await __read_DB(\"wallpaper\");\r\n\r\n    if (img_Data.length) {\r\n      ImageChecker(img_Data);\r\n\r\n    } else {\r\n      document.body.style.backgroundImage = 'url(\"ext_assets/images/bg.jpg\")';\r\n      document.querySelector(\".unsplash_copyright\").innerHTML = `Photo by\r\n      <a href=\"https://unsplash.com/photos/n3XTxxV7qhI?utm_source=DOG&amp;utm_medium=referral\" target=\"_blank\">Faye Cornish</a>\r\n      on\r\n      <a href=\"https://unsplash.com/?utm_source=DOG&utm_medium=referral\" target=\"_blank\">Unsplash</a>\r\n      `;\r\n\r\n    }\r\n  }\r\n  // Render auth\r\n\r\n  user.Auth();\r\n\r\n  /*\r\n  * extension communication\r\n  */\r\n\r\n  // Send Request to Background Js\r\n  const request_Background = function(action, data, callback) {\r\n    chrome.runtime.sendMessage({\r\n      action: action\r\n    }, callback);\r\n  }\r\n\r\n  /*\r\n  * settings\r\n  */\r\n\r\n  document.addEventListener(\"keyup\", (e) => {\r\n    clear_PassCode_Box(e)\r\n  });\r\n\r\n  const clear_PassCode_Box = (e) => {\r\n    if (e.keyCode == 27 || e.keyCode == 8) {\r\n      clear();\r\n    }\r\n  }\r\n\r\n  function clear () {\r\n    if (signIn_Block.style.display == \"block\") {\r\n      for (let a of allSpan) {\r\n        a.removeAttribute(\"data-keycode\");\r\n        a.removeAttribute(\"data-animate\");\r\n      }\r\n      key_counter = 1;\r\n      user_Entered_Code = [];\r\n    }\r\n  }\r\n\r\n\r\n\r\n})();\r\n"]}